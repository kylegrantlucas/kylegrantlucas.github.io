---
import Layout from "../layouts/Layout.astro";
import Icon from "../components/Icon.astro";
import { getResumeData } from "../utils/resume.js";

// Fetch resume data
const resume = await getResumeData();
---

<Layout>
    <h1>Hi, I'm {resume.basics.name}. ðŸ‘‹</h1>

    <h2>About</h2>

    <p>
        I'm a <strong>{resume.basics.label}</strong> based in {
            resume.basics.location.city
        }.
    </p>

    <p>
        Currently I work at <a href={resume.work[0].url}
            >{resume.work[0].name}</a
        >.
    </p>

    <p>
        Previously I have worked at <a href={resume.work[2].url}
            >{resume.work[2].name}</a
        > and <a href={resume.work[3].url}>{resume.work[3].name}</a>.
    </p>

    <h2>Connect</h2>

    <p>
        You can find me elsewhere on the internet:
        {
            resume.basics.profiles
                .slice()
                .reverse()
                .map((profile, index) => (
                    <span>
                        <a href={profile.url}>
                            <Icon name={profile.network.toLowerCase()} />{" "}
                            {profile.network}
                        </a>
                        {index < resume.basics.profiles.length - 1 ? ", " : ""}
                    </span>
                ))
        }
        .
    </p>

    <p>
        <strong>Contact:</strong>
        <a href={`mailto:${resume.basics.email}`}
            ><Icon name="paper-plane" />
            {resume.basics.email}</a
        >
    </p>
</Layout>
